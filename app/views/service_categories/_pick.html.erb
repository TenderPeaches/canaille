<%= turbo_frame_tag "service-category-picker" do %>
    <%= content_tag :div, class: "service-category-picker" do %>
        <input type="hidden" name="<%= form_object %>[service_category]" value="<%= (selected_category_id ||= 0).to_s %>">
        <%= content_tag :div, class: "service-category-picker__breadcrumbs" do %>
            <%= content_tag :span do %>
                <%= link_to t('models.service_category.list_title'), pick_service_category_path(0.to_i, form_object: form_object), class: "button" %>
                <% breadcrumbs_categories ||= [] %>
                <% breadcrumbs_categories.each_with_index do |category, i| %>
                    <%= content_tag :span, class: "breadcrumb-link" do %>
                        &gt;
                    <% end %>
                    <%= link_to pick_service_category_path(category.id), class: "button" do %>
                        <%= render 'service_categories/service_category', service_category: category %>
                    <% end %>
                <% end %>
            <% end %>
        <% end %>
        <%# if no carousel_categories provided, default to top level service categories %>
        <% carousel_categories ||= ServiceCategory.top_level %>
        <%= content_tag :div, class: "carousel carousel--service-categories" do %>
            <% carousel_categories.each do |category| %>
                <%= link_to pick_service_category_path(id: category.id, form_object: form_object), class: "button" do %>
                    <%= render 'service_categories/service_category', service_category: category %>
                <% end %>
            <% end %>
        <% end %>
    <% end %>
<% end %>